openapi: 3.0.0
info:
  title: Athenai API
  description: |
    Multi-tenant gym management platform API.
    
    
  version: 1.0.0

servers:
  - url: http://localhost:8080/api/v1
    description: Local development server

# Global security - applies to all endpoints unless overridden
# Both JWT token and Gym ID header required by default
security:
  - bearerAuth: []
    GymIdHeader: []

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT access token for authentication
    GymIdHeader:
      type: apiKey
      in: header
      name: X-Gym-ID
      description: Gym ID for tenant isolation
  schemas:
    $ref: "/swagger/components/schemas.yaml"
  responses:
    $ref: "/swagger/components/responses.yaml"
  parameters:
    $ref: "/swagger/components/parameters.yaml"

paths:
  # Authentication routes
  /auth/login:
    $ref: "/swagger/paths/auth/login.yaml"

  /auth/refresh:
    $ref: "/swagger/paths/auth/refresh.yaml"

  /auth/logout:
    $ref: "/swagger/paths/auth/logout.yaml"

  /auth/validate:
    $ref: "/swagger/paths/auth/validate.yaml"

  # User routes
  /user:
    $ref: "/swagger/paths/user/user.yaml"

  /user/{id}:
    $ref: "/swagger/paths/user/user-by-id.yaml"

  /user/username/{username}:
    $ref: "/swagger/paths/user/user-by-username.yaml"

  /user/email/{email}:
    $ref: "/swagger/paths/user/user-by-email.yaml"

  /user/{id}/verify:
    $ref: "/swagger/paths/user/user-verify.yaml"

  /user/{id}/active:
    $ref: "/swagger/paths/user/user-active.yaml"

  # Gym routes
  /gym:
    $ref: "/swagger/paths/gym/gym.yaml"

  /gym/{id}:
    $ref: "/swagger/paths/gym/gym-by-id.yaml"

  /gym/{id}/update:
    $ref: "/swagger/paths/gym/gym-update.yaml"

  /gym/domain/{domain}:
    $ref: "/swagger/paths/gym/gym-by-domain.yaml"

  /gym/{id}/activate:
    $ref: "/swagger/paths/gym/gym-activate.yaml"

  /gym/{id}/deactivate:
    $ref: "/swagger/paths/gym/gym-deactivate.yaml"

  /gym/{id}/delete:
    $ref: "/swagger/paths/gym/gym-delete.yaml"
